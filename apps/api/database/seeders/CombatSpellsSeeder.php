<?php

namespace Database\Seeders;

use App\Models\Setting;
use App\Models\Spell;
use Illuminate\Database\Seeder;

class CombatSpellsSeeder extends Seeder
{
    public function run(): void
    {
        $eberron = Setting::where('slug', 'eberron')->first();

        $spells = $this->getCombatSpells();

        $count = 0;
        foreach ($spells as $spellData) {
            $spell = Spell::updateOrCreate(
                ['slug' => $spellData['slug']],
                $spellData
            );

            if ($eberron) {
                $spell->settings()->syncWithoutDetaching([$eberron->id]);
            }
            $count++;
        }

        $this->command->info("Combat spells seeded: {$count}");
    }

    private function getCombatSpells(): array
    {
        return array_merge(
            $this->getLevel1Combat(),
            $this->getLevel2Combat(),
            $this->getLevel3Combat(),
            $this->getLevel4Combat(),
            $this->getLevel5Combat(),
            $this->getHighLevelCombat()
        );
    }

    private function getLevel1Combat(): array
    {
        return [
            [
                'slug' => 'ice-knife',
                'name' => ['ru' => 'Ледяной нож'],
                'description' => ['ru' => 'Вы создаёте осколок льда и бросаете его в одно существо в пределах дистанции. Совершите дальнобойную атаку заклинанием по цели. При попадании цель получает колющий урон 1d10. Независимо от попадания, осколок взрывается. Цель и все существа в пределах 1,5 метра от точки попадания или непопадания осколка должны пройти спасбросок Ловкости, иначе получат урон холодом 2d6.'],
                'higher_levels' => ['ru' => 'Если вы используете ячейку 2-го уровня или выше, урон холодом увеличивается на 1d6 за каждый уровень ячейки выше 1-го.'],
                'level' => 1,
                'school' => 'conjuration',
                'casting_time' => '1 действие',
                'range' => '18 м',
                'duration' => 'Мгновенная',
                'concentration' => false,
                'ritual' => false,
                'components' => ['verbal' => false, 'somatic' => true, 'material' => true, 'material_description' => 'капля воды или кусочек льда'],
                'classes' => ['wizard', 'sorcerer', 'druid'],
                'effects' => ['damage' => ['dice' => '1d10+2d6', 'type' => 'piercing, cold'], 'save' => ['ability' => 'dexterity', 'on_success' => 'none']],
            ],
            [
                'slug' => 'witch-bolt',
                'name' => ['ru' => 'Ведьмин снаряд'],
                'description' => ['ru' => 'Луч потрескивающей голубой энергии устремляется к существу в пределах дистанции, образуя между вами и целью устойчивую дугу молнии. Совершите дальнобойную атаку заклинанием по этому существу. При попадании цель получает урон электричеством 1d12, и в каждый свой ход, пока заклинание активно, вы можете действием автоматически причинять цели урон электричеством 1d12. Заклинание оканчивается, если вы используете действие для чего-либо другого. Заклинание также оканчивается, если цель окажется за пределами дистанции заклинания или получит полное укрытие от вас.'],
                'higher_levels' => ['ru' => 'Если вы используете ячейку 2-го уровня или выше, начальный урон увеличивается на 1d12 за каждый уровень ячейки выше 1-го.'],
                'level' => 1,
                'school' => 'evocation',
                'casting_time' => '1 действие',
                'range' => '9 м',
                'duration' => 'Концентрация, до 1 минуты',
                'concentration' => true,
                'ritual' => false,
                'components' => ['verbal' => true, 'somatic' => true, 'material' => true, 'material_description' => 'веточка дерева, поражённого молнией'],
                'classes' => ['wizard', 'sorcerer', 'warlock'],
                'effects' => ['damage' => ['dice' => '1d12', 'type' => 'lightning']],
            ],
            [
                'slug' => 'inflict-wounds',
                'name' => ['ru' => 'Нанесение ран'],
                'description' => ['ru' => 'Совершите рукопашную атаку заклинанием по существу в пределах досягаемости. При попадании цель получает урон некротической энергией 3d10.'],
                'higher_levels' => ['ru' => 'Если вы используете ячейку 2-го уровня или выше, урон увеличивается на 1d10 за каждый уровень ячейки выше 1-го.'],
                'level' => 1,
                'school' => 'necromancy',
                'casting_time' => '1 действие',
                'range' => 'Касание',
                'duration' => 'Мгновенная',
                'concentration' => false,
                'ritual' => false,
                'components' => ['verbal' => true, 'somatic' => true, 'material' => false],
                'classes' => ['cleric'],
                'effects' => ['damage' => ['dice' => '3d10', 'type' => 'necrotic']],
            ],
            [
                'slug' => 'cause-fear',
                'name' => ['ru' => 'Вызов страха'],
                'description' => ['ru' => 'Вы пробуждаете в существе чувство смертности. Одно существо на ваш выбор, которое вы видите в пределах дистанции, должно преуспеть в спасброске Мудрости, иначе станет испуганным вами до конца заклинания. Испуганное существо может повторять этот спасбросок в конце каждого своего хода, оканчивая эффект на себе при успехе.'],
                'higher_levels' => ['ru' => 'Если вы используете ячейку 2-го уровня или выше, вы можете нацелить это заклинание на одно дополнительное существо за каждый уровень ячейки выше 1-го. Все цели должны находиться в пределах 9 метров друг от друга.'],
                'level' => 1,
                'school' => 'necromancy',
                'casting_time' => '1 действие',
                'range' => '18 м',
                'duration' => 'Концентрация, до 1 минуты',
                'concentration' => true,
                'ritual' => false,
                'components' => ['verbal' => true, 'somatic' => false, 'material' => false],
                'classes' => ['warlock', 'wizard'],
                'effects' => ['save' => ['ability' => 'wisdom', 'on_success' => 'none']],
            ],
            [
                'slug' => 'earth-tremor',
                'name' => ['ru' => 'Сотрясение земли'],
                'description' => ['ru' => 'Вы вызываете сейсмическое возмущение в точке на земле, видимой вами в пределах дистанции. Все существа, кроме вас, в этой области должны пройти спасбросок Ловкости. При провале существо получает дробящий урон 1d6 и сбивается с ног. Если земля в этой области состоит из рыхлых пород или земли, она становится труднопроходимой местностью до тех пор, пока её не расчистят, тратя на каждые 1,5 метра как минимум 1 минуту.'],
                'higher_levels' => ['ru' => 'Если вы используете ячейку 2-го уровня или выше, урон увеличивается на 1d6 за каждый уровень ячейки выше 1-го.'],
                'level' => 1,
                'school' => 'evocation',
                'casting_time' => '1 действие',
                'range' => '3 м',
                'duration' => 'Мгновенная',
                'concentration' => false,
                'ritual' => false,
                'components' => ['verbal' => true, 'somatic' => true, 'material' => false],
                'classes' => ['wizard', 'sorcerer', 'bard', 'druid'],
                'effects' => ['damage' => ['dice' => '1d6', 'type' => 'bludgeoning'], 'save' => ['ability' => 'dexterity', 'on_success' => 'none']],
            ],
            [
                'slug' => 'absorb-elements',
                'name' => ['ru' => 'Поглощение стихий'],
                'description' => ['ru' => 'Заклинание захватывает часть входящей энергии, смягчая её воздействие на вас и сохраняя для вашей следующей рукопашной атаки. Вы получаете сопротивление к типу урона, вызвавшего срабатывание, до начала вашего следующего хода. Кроме того, первый раз, когда вы попадёте рукопашной атакой в свой следующий ход, цель получает дополнительный урон того же типа 1d6, и заклинание оканчивается.'],
                'higher_levels' => ['ru' => 'Если вы используете ячейку 2-го уровня или выше, дополнительный урон увеличивается на 1d6 за каждый уровень ячейки выше 1-го.'],
                'level' => 1,
                'school' => 'abjuration',
                'casting_time' => '1 реакция, которую вы совершаете, когда получаете урон кислотой, холодом, огнём, молнией или звуком',
                'range' => 'На себя',
                'duration' => '1 раунд',
                'concentration' => false,
                'ritual' => false,
                'components' => ['verbal' => false, 'somatic' => true, 'material' => false],
                'classes' => ['wizard', 'sorcerer', 'druid', 'ranger'],
                'effects' => ['damage' => ['dice' => '1d6', 'type' => 'varies']],
            ],
            [
                'slug' => 'ray-of-sickness',
                'name' => ['ru' => 'Луч болезни'],
                'description' => ['ru' => 'Луч болезнетворной зеленоватой энергии устремляется к существу в пределах дистанции. Совершите дальнобойную атаку заклинанием по цели. При попадании цель получает урон ядом 2d8 и должна пройти спасбросок Телосложения. При провале она также становится отравленной до конца вашего следующего хода.'],
                'higher_levels' => ['ru' => 'Если вы используете ячейку 2-го уровня или выше, урон увеличивается на 1d8 за каждый уровень ячейки выше 1-го.'],
                'level' => 1,
                'school' => 'necromancy',
                'casting_time' => '1 действие',
                'range' => '18 м',
                'duration' => 'Мгновенная',
                'concentration' => false,
                'ritual' => false,
                'components' => ['verbal' => true, 'somatic' => true, 'material' => false],
                'classes' => ['wizard', 'sorcerer'],
                'effects' => ['damage' => ['dice' => '2d8', 'type' => 'poison'], 'save' => ['ability' => 'constitution', 'on_success' => 'not poisoned']],
            ],
        ];
    }

    private function getLevel2Combat(): array
    {
        return [
            [
                'slug' => 'shatter',
                'name' => ['ru' => 'Дребезги'],
                'description' => ['ru' => 'В точке, выбранной вами в пределах дистанции, внезапно раздаётся болезненно громкий звук. Все существа в сфере с радиусом 3 метра с центром в этой точке должны пройти спасбросок Телосложения. Существа получают урон звуком 3d8 при провале или половину этого урона при успехе. Существо, изготовленное из неорганического материала, такого как камень, кристалл или металл, совершает этот спасбросок с помехой. Немагический предмет, который никто не несёт и не носит, тоже получает урон, если находится в области заклинания.'],
                'higher_levels' => ['ru' => 'Если вы используете ячейку 3-го уровня или выше, урон увеличивается на 1d8 за каждый уровень ячейки выше 2-го.'],
                'level' => 2,
                'school' => 'evocation',
                'casting_time' => '1 действие',
                'range' => '18 м',
                'duration' => 'Мгновенная',
                'concentration' => false,
                'ritual' => false,
                'components' => ['verbal' => true, 'somatic' => true, 'material' => true, 'material_description' => 'осколок слюды'],
                'classes' => ['wizard', 'sorcerer', 'bard', 'warlock'],
                'effects' => ['damage' => ['dice' => '3d8', 'type' => 'thunder'], 'save' => ['ability' => 'constitution', 'on_success' => 'half'], 'area' => ['shape' => 'sphere', 'radius' => '3 м']],
            ],
            [
                'slug' => 'flaming-sphere',
                'name' => ['ru' => 'Пылающий шар'],
                'description' => ['ru' => 'Пятифутовая сфера огня появляется в свободном пространстве на ваш выбор в пределах дистанции и существует, пока заклинание активно. Все существа, оканчивающие ход в пределах 1,5 метра от сферы, должны пройти спасбросок Ловкости. Существо получает урон огнём 2d6 при провале или половину этого урона при успехе. Вы можете бонусным действием переместить сферу на 9 метров. Если вы таранили сферой существо, это существо должно пройти спасбросок с тем же эффектом, и сфера останавливается до конца этого хода.'],
                'higher_levels' => ['ru' => 'Если вы используете ячейку 3-го уровня или выше, урон увеличивается на 1d6 за каждый уровень ячейки выше 2-го.'],
                'level' => 2,
                'school' => 'conjuration',
                'casting_time' => '1 действие',
                'range' => '18 м',
                'duration' => 'Концентрация, до 1 минуты',
                'concentration' => true,
                'ritual' => false,
                'components' => ['verbal' => true, 'somatic' => true, 'material' => true, 'material_description' => 'немного жира, щепотка серы и порошковое железо'],
                'classes' => ['wizard', 'druid'],
                'effects' => ['damage' => ['dice' => '2d6', 'type' => 'fire'], 'save' => ['ability' => 'dexterity', 'on_success' => 'half']],
            ],
            [
                'slug' => 'blindness-deafness',
                'name' => ['ru' => 'Слепота/Глухота'],
                'description' => ['ru' => 'Вы можете ослепить или оглушить противника. Выберите одно существо, которое видите в пределах дистанции. Оно должно пройти спасбросок Телосложения. При провале цель становится либо слепой, либо глухой (на ваш выбор) на время действия заклинания. В конце каждого своего хода цель может повторять спасбросок Телосложения. При успехе заклинание оканчивается.'],
                'higher_levels' => ['ru' => 'Если вы используете ячейку 3-го уровня или выше, вы можете нацелить это заклинание на одно дополнительное существо за каждый уровень ячейки выше 2-го.'],
                'level' => 2,
                'school' => 'necromancy',
                'casting_time' => '1 действие',
                'range' => '9 м',
                'duration' => '1 минута',
                'concentration' => false,
                'ritual' => false,
                'components' => ['verbal' => true, 'somatic' => false, 'material' => false],
                'classes' => ['wizard', 'sorcerer', 'bard', 'cleric'],
                'effects' => ['save' => ['ability' => 'constitution', 'on_success' => 'none']],
            ],
            [
                'slug' => 'cloud-of-daggers',
                'name' => ['ru' => 'Облако кинжалов'],
                'description' => ['ru' => 'Вы заполняете воздух вращающимися кинжалами в кубе с длиной ребра 1,5 метра с центром в точке, выбранной в пределах дистанции. Существо получает рубящий урон 4d4, когда впервые за ход входит в область заклинания или начинает там свой ход.'],
                'higher_levels' => ['ru' => 'Если вы используете ячейку 3-го уровня или выше, урон увеличивается на 2d4 за каждый уровень ячейки выше 2-го.'],
                'level' => 2,
                'school' => 'conjuration',
                'casting_time' => '1 действие',
                'range' => '18 м',
                'duration' => 'Концентрация, до 1 минуты',
                'concentration' => true,
                'ritual' => false,
                'components' => ['verbal' => true, 'somatic' => true, 'material' => true, 'material_description' => 'осколок стекла'],
                'classes' => ['wizard', 'sorcerer', 'bard', 'warlock'],
                'effects' => ['damage' => ['dice' => '4d4', 'type' => 'slashing'], 'area' => ['shape' => 'cube', 'size' => '1,5 м']],
            ],
            [
                'slug' => 'gust-of-wind',
                'name' => ['ru' => 'Порыв ветра'],
                'description' => ['ru' => 'От вас исходит порыв сильного ветра линией длиной 18 метров и шириной 3 метра в выбранном вами направлении, пока заклинание активно. Все существа, начинающие ход в этой линии, должны преуспеть в спасброске Силы, иначе будут оттолкнуты от вас на 4,5 метра в направлении линии. Все существа в этой линии должны потратить 60 сантиметров передвижения на каждые 30 сантиметров приближения к вам. Порыв рассеивает газ или туман, и он тушит свечи, факелы и подобные незащищённые источники пламени в области. Это приводит к тому, что защищённое пламя, например, огонь в фонарях, сильно мерцает и имеет 50 процентов шансов потухнуть.'],
                'level' => 2,
                'school' => 'evocation',
                'casting_time' => '1 действие',
                'range' => 'На себя (линия 18 м)',
                'duration' => 'Концентрация, до 1 минуты',
                'concentration' => true,
                'ritual' => false,
                'components' => ['verbal' => true, 'somatic' => true, 'material' => true, 'material_description' => 'бобовый стручок'],
                'classes' => ['wizard', 'sorcerer', 'druid', 'ranger'],
                'effects' => ['save' => ['ability' => 'strength', 'on_success' => 'not pushed'], 'area' => ['shape' => 'line', 'length' => '18 м', 'width' => '3 м']],
            ],
            [
                'slug' => 'melfs-acid-arrow',
                'name' => ['ru' => 'Кислотная стрела Мельфа'],
                'description' => ['ru' => 'Зеленоватая стрела устремляется к цели в пределах дистанции и взрывается брызгами кислоты. Совершите дальнобойную атаку заклинанием по цели. При попадании цель получает урон кислотой 4d4 немедленно и урон кислотой 2d4 в конце своего следующего хода. При промахе стрела всё равно обдаёт цель кислотой, и она получает урон кислотой, равный половине урона при попадании, и не получает урон в конце своего следующего хода.'],
                'higher_levels' => ['ru' => 'Если вы используете ячейку 3-го уровня или выше, урон (и при попадании, и при промахе) увеличивается на 1d4 за каждый уровень ячейки выше 2-го.'],
                'level' => 2,
                'school' => 'evocation',
                'casting_time' => '1 действие',
                'range' => '27 м',
                'duration' => 'Мгновенная',
                'concentration' => false,
                'ritual' => false,
                'components' => ['verbal' => true, 'somatic' => true, 'material' => true, 'material_description' => 'порошок ревеня и желудок гадюки'],
                'classes' => ['wizard'],
                'effects' => ['damage' => ['dice' => '4d4+2d4', 'type' => 'acid']],
            ],
        ];
    }

    private function getLevel3Combat(): array
    {
        return [
            [
                'slug' => 'vampiric-touch',
                'name' => ['ru' => 'Вампирическое касание'],
                'description' => ['ru' => 'Касание вашей закутанной тенями руки может выкачивать жизненную силу из других, исцеляя ваши раны. Совершите рукопашную атаку заклинанием по существу в пределах досягаемости. При попадании цель получает урон некротической энергией 3d6, и вы восстанавливаете хиты в количестве, равном половине причинённого урона некротической энергией. Пока заклинание активно, вы можете в каждый свой ход совершать атаку ещё раз действием.'],
                'higher_levels' => ['ru' => 'Если вы используете ячейку 4-го уровня или выше, урон увеличивается на 1d6 за каждый уровень ячейки выше 3-го.'],
                'level' => 3,
                'school' => 'necromancy',
                'casting_time' => '1 действие',
                'range' => 'На себя',
                'duration' => 'Концентрация, до 1 минуты',
                'concentration' => true,
                'ritual' => false,
                'components' => ['verbal' => true, 'somatic' => true, 'material' => false],
                'classes' => ['wizard', 'warlock'],
                'effects' => ['damage' => ['dice' => '3d6', 'type' => 'necrotic']],
            ],
            [
                'slug' => 'fear',
                'name' => ['ru' => 'Страх'],
                'description' => ['ru' => 'Вы создаёте призрачный образ худших страхов существ. Все существа в конусе с длиной 9 метров должны преуспеть в спасброске Мудрости, иначе бросят всё, что держат в руках, и станут испуганными на время действия заклинания. Будучи испуганным этим заклинанием, существо должно в каждый свой ход совершать действие Рывок и перемещаться прочь от вас по самому безопасному маршруту, пока не перестанет вас видеть. Если существо оканчивает ход в месте, в котором не видит вас, оно может совершить спасбросок Мудрости. При успехе заклинание оканчивается для этого существа.'],
                'level' => 3,
                'school' => 'illusion',
                'casting_time' => '1 действие',
                'range' => 'На себя (конус 9 м)',
                'duration' => 'Концентрация, до 1 минуты',
                'concentration' => true,
                'ritual' => false,
                'components' => ['verbal' => true, 'somatic' => true, 'material' => true, 'material_description' => 'белое перо или сердце курицы'],
                'classes' => ['wizard', 'sorcerer', 'bard', 'warlock'],
                'effects' => ['save' => ['ability' => 'wisdom', 'on_success' => 'none'], 'area' => ['shape' => 'cone', 'size' => '9 м']],
            ],
            [
                'slug' => 'bestow-curse',
                'name' => ['ru' => 'Проклятие'],
                'description' => ['ru' => 'Вы касаетесь существа, и оно должно преуспеть в спасброске Мудрости, иначе станет проклятым на время действия заклинания. Когда вы накладываете это заклинание, выберите природу проклятья из следующих вариантов: Выберите одну характеристику. Будучи проклятой, цель совершает проверки этой характеристики и спасброски этой характеристики с помехой. Будучи проклятой, цель совершает броски атаки по вам с помехой. Будучи проклятой, цель должна в начале каждого своего хода совершать спасбросок Мудрости. При провале она тратит своё действие в этом ходу, ничего не делая. Пока цель проклята, ваши атаки и заклинания причиняют ей дополнительный урон некротической энергией 1d8. Заклинание снятие проклятья оканчивает этот эффект. По усмотрению Мастера вы можете выбрать иной эффект проклятья, но он не должен быть сильнее перечисленных выше.'],
                'higher_levels' => ['ru' => 'Если вы используете ячейку 4-го уровня, длительность равна концентрации, до 10 минут. При использовании ячейки 5-го или 6-го уровня длительность равна 8 часам. При использовании ячейки 7-го или 8-го уровня длительность равна 24 часам. При использовании ячейки 9-го уровня длительность равна «пока не рассеется».'],
                'level' => 3,
                'school' => 'necromancy',
                'casting_time' => '1 действие',
                'range' => 'Касание',
                'duration' => 'Концентрация, до 1 минуты',
                'concentration' => true,
                'ritual' => false,
                'components' => ['verbal' => true, 'somatic' => true, 'material' => false],
                'classes' => ['wizard', 'bard', 'cleric'],
                'effects' => ['save' => ['ability' => 'wisdom', 'on_success' => 'none']],
            ],
            [
                'slug' => 'erupting-earth',
                'name' => ['ru' => 'Извержение земли'],
                'description' => ['ru' => 'Выберите точку на земле, видимую в пределах дистанции. Фонтан взбитой земли и камней вырывается в кубе с длиной ребра 6 метров с центром в этой точке. Все существа в этой области должны пройти спасбросок Ловкости. Существо получает дробящий урон 3d12 при провале или половину этого урона при успехе. Кроме того, земля в этой области становится труднопроходимой местностью, пока не будет расчищена.'],
                'higher_levels' => ['ru' => 'Если вы используете ячейку 4-го уровня или выше, урон увеличивается на 1d12 за каждый уровень ячейки выше 3-го.'],
                'level' => 3,
                'school' => 'transmutation',
                'casting_time' => '1 действие',
                'range' => '36 м',
                'duration' => 'Мгновенная',
                'concentration' => false,
                'ritual' => false,
                'components' => ['verbal' => true, 'somatic' => true, 'material' => true, 'material_description' => 'кусочек обсидиана'],
                'classes' => ['wizard', 'sorcerer', 'druid'],
                'effects' => ['damage' => ['dice' => '3d12', 'type' => 'bludgeoning'], 'save' => ['ability' => 'dexterity', 'on_success' => 'half'], 'area' => ['shape' => 'cube', 'size' => '6 м']],
            ],
            [
                'slug' => 'hunger-of-hadar',
                'name' => ['ru' => 'Голод Хадара'],
                'description' => ['ru' => 'Вы открываете врата в тёмную область межзвёздного пространства, область, населённую неизвестными ужасами. В пределах дистанции появляется сфера чернильной тьмы с радиусом 6 метров, наполненная какофонией тихих шёпотов и чавкающих звуков. Никакой свет, магический или иной, не может осветить область, и существа, полностью находящиеся в ней, ослеплены. Пустота создаёт искажения ткани пространства, и область является труднопроходимой местностью. Все существа, начинающие свой ход в области, получают урон холодом 2d6. Все существа, оканчивающие свой ход в области, должны пройти спасбросок Ловкости, получая урон кислотой 2d6 при провале, так как ртообразные щупальца хватают их.'],
                'level' => 3,
                'school' => 'conjuration',
                'casting_time' => '1 действие',
                'range' => '45 м',
                'duration' => 'Концентрация, до 1 минуты',
                'concentration' => true,
                'ritual' => false,
                'components' => ['verbal' => true, 'somatic' => true, 'material' => true, 'material_description' => 'маринованное щупальце осьминога'],
                'classes' => ['warlock'],
                'effects' => ['damage' => ['dice' => '2d6+2d6', 'type' => 'cold, acid'], 'save' => ['ability' => 'dexterity', 'on_success' => 'half acid'], 'area' => ['shape' => 'sphere', 'radius' => '6 м']],
            ],
            [
                'slug' => 'spirit-shroud',
                'name' => ['ru' => 'Духовный саван'],
                'description' => ['ru' => 'Вы призываете духов мёртвых, которые кружат вокруг вас на время действия заклинания. Духи бестелесны и неуязвимы. Пока заклинание активно, любая ваша атака причиняет дополнительный урон 1d8, если вы находитесь в пределах 3 метров от цели атаки. Тип урона — некротический, излучение или холод (выберите при накладывании). Любое существо, которое получает этот дополнительный урон, не может восстанавливать хиты до начала вашего следующего хода. Кроме того, любое существо по вашему выбору, которое вы можете видеть и которое начинает свой ход в пределах 3 метров от вас, уменьшает свою скорость на 3 метра до начала своего следующего хода.'],
                'higher_levels' => ['ru' => 'Если вы используете ячейку 4-го уровня или выше, дополнительный урон увеличивается на 1d8 за каждые два уровня ячейки выше 3-го.'],
                'level' => 3,
                'school' => 'necromancy',
                'casting_time' => '1 бонусное действие',
                'range' => 'На себя',
                'duration' => 'Концентрация, до 1 минуты',
                'concentration' => true,
                'ritual' => false,
                'components' => ['verbal' => true, 'somatic' => true, 'material' => false],
                'classes' => ['wizard', 'cleric', 'paladin', 'warlock'],
                'effects' => ['damage' => ['dice' => '1d8', 'type' => 'necrotic/radiant/cold']],
            ],
        ];
    }

    private function getLevel4Combat(): array
    {
        return [
            [
                'slug' => 'blight',
                'name' => ['ru' => 'Усыхание'],
                'description' => ['ru' => 'Некротическая энергия омывает существо на ваш выбор, видимое в пределах дистанции, высасывая из него жидкость и жизнь. Цель должна пройти спасбросок Телосложения. Цель получает урон некротической энергией 8d8 при провале или половину этого урона при успехе. Это заклинание не оказывает эффекта на нежить и конструктов. Если вы нацелились на растительное существо или магическое растение, оно совершает спасбросок с помехой, и заклинание причиняет ему максимальный урон. Если вы нацелились на немагическое растение, которое не является существом, такое как дерево или куст, оно не совершает спасбросок; оно просто засыхает и умирает.'],
                'higher_levels' => ['ru' => 'Если вы используете ячейку 5-го уровня или выше, урон увеличивается на 1d8 за каждый уровень ячейки выше 4-го.'],
                'level' => 4,
                'school' => 'necromancy',
                'casting_time' => '1 действие',
                'range' => '9 м',
                'duration' => 'Мгновенная',
                'concentration' => false,
                'ritual' => false,
                'components' => ['verbal' => true, 'somatic' => true, 'material' => false],
                'classes' => ['wizard', 'sorcerer', 'druid', 'warlock'],
                'effects' => ['damage' => ['dice' => '8d8', 'type' => 'necrotic'], 'save' => ['ability' => 'constitution', 'on_success' => 'half']],
            ],
            [
                'slug' => 'vitriolic-sphere',
                'name' => ['ru' => 'Едкий шар'],
                'description' => ['ru' => 'Вы указываете на точку в пределах дистанции, и сияющий шар изумрудной кислоты устремляется туда и взрывается, создавая сферу с радиусом 6 метров. Все существа в этой области должны пройти спасбросок Ловкости. При провале существо получает урон кислотой 10d4 и урон кислотой 5d4 в конце своего следующего хода. При успехе существо получает половину начального урона и не получает урона в конце своего следующего хода.'],
                'higher_levels' => ['ru' => 'Если вы используете ячейку 5-го уровня или выше, начальный урон увеличивается на 2d4 за каждый уровень ячейки выше 4-го.'],
                'level' => 4,
                'school' => 'evocation',
                'casting_time' => '1 действие',
                'range' => '45 м',
                'duration' => 'Мгновенная',
                'concentration' => false,
                'ritual' => false,
                'components' => ['verbal' => true, 'somatic' => true, 'material' => true, 'material_description' => 'капля желчи гигантского слизня'],
                'classes' => ['wizard', 'sorcerer'],
                'effects' => ['damage' => ['dice' => '10d4+5d4', 'type' => 'acid'], 'save' => ['ability' => 'dexterity', 'on_success' => 'half'], 'area' => ['shape' => 'sphere', 'radius' => '6 м']],
            ],
            [
                'slug' => 'phantasmal-killer',
                'name' => ['ru' => 'Фантазмальный убийца'],
                'description' => ['ru' => 'Вы обращаетесь к ночным кошмарам существа, которое видите в пределах дистанции, и создаёте иллюзорное воплощение его глубочайших страхов, видимое только этому существу. Цель должна пройти спасбросок Мудрости. При провале цель становится испуганной на время действия заклинания. В конце каждого своего хода, пока заклинание активно, цель должна преуспеть в спасброске Мудрости, иначе получит урон психической энергией 4d10. При успехе заклинание оканчивается.'],
                'higher_levels' => ['ru' => 'Если вы используете ячейку 5-го уровня или выше, урон увеличивается на 1d10 за каждый уровень ячейки выше 4-го.'],
                'level' => 4,
                'school' => 'illusion',
                'casting_time' => '1 действие',
                'range' => '36 м',
                'duration' => 'Концентрация, до 1 минуты',
                'concentration' => true,
                'ritual' => false,
                'components' => ['verbal' => true, 'somatic' => true, 'material' => false],
                'classes' => ['wizard', 'bard'],
                'effects' => ['damage' => ['dice' => '4d10', 'type' => 'psychic'], 'save' => ['ability' => 'wisdom', 'on_success' => 'none']],
            ],
            [
                'slug' => 'sickening-radiance',
                'name' => ['ru' => 'Болезнетворное сияние'],
                'description' => ['ru' => 'Тусклый зеленоватый свет распространяется в сфере с радиусом 9 метров с центром в точке, выбранной вами в пределах дистанции. Свет огибает углы, и он существует, пока заклинание активно. Когда существо впервые за ход входит в область заклинания или начинает там ход, оно должно преуспеть в спасброске Телосложения, иначе получит урон излучением 4d10 и один уровень истощения, и начнёт излучать тусклый зеленоватый свет в радиусе 1,5 метра. Этот свет не позволяет существу получать преимущества от невидимости. Свет и уровни истощения, причинённые этим заклинанием, заканчиваются при его окончании.'],
                'level' => 4,
                'school' => 'evocation',
                'casting_time' => '1 действие',
                'range' => '36 м',
                'duration' => 'Концентрация, до 10 минут',
                'concentration' => true,
                'ritual' => false,
                'components' => ['verbal' => true, 'somatic' => true, 'material' => false],
                'classes' => ['wizard', 'sorcerer', 'warlock'],
                'effects' => ['damage' => ['dice' => '4d10', 'type' => 'radiant'], 'save' => ['ability' => 'constitution', 'on_success' => 'none'], 'area' => ['shape' => 'sphere', 'radius' => '9 м']],
            ],
        ];
    }

    private function getLevel5Combat(): array
    {
        return [
            [
                'slug' => 'synaptic-static',
                'name' => ['ru' => 'Статический разряд'],
                'description' => ['ru' => 'Вы выбираете точку в пределах дистанции и заставляете психическую энергию взорваться там. Все существа в сфере с радиусом 6 метров с центром в этой точке должны пройти спасбросок Интеллекта. Существо с Интеллектом 2 или ниже не попадает под воздействие этого заклинания. Цель получает урон психической энергией 8d6 при провале или половину этого урона при успехе. После провала спасброска цель также получает помутнение разума на 1 минуту. В это время она бросает d6 и вычитает выпавшее число из всех своих бросков атаки и проверок характеристик, а также из спасбросков Телосложения для поддержания концентрации. Цель может проходить спасбросок Интеллекта в конце каждого своего хода, оканчивая эффект на себе при успехе.'],
                'level' => 5,
                'school' => 'enchantment',
                'casting_time' => '1 действие',
                'range' => '36 м',
                'duration' => 'Мгновенная',
                'concentration' => false,
                'ritual' => false,
                'components' => ['verbal' => true, 'somatic' => true, 'material' => false],
                'classes' => ['wizard', 'sorcerer', 'bard', 'warlock'],
                'effects' => ['damage' => ['dice' => '8d6', 'type' => 'psychic'], 'save' => ['ability' => 'intelligence', 'on_success' => 'half'], 'area' => ['shape' => 'sphere', 'radius' => '6 м']],
            ],
            [
                'slug' => 'steel-wind-strike',
                'name' => ['ru' => 'Стальной ветер'],
                'description' => ['ru' => 'Вы создаёте вихрь из клинков, которые рвут ваших противников. Выберите до пяти существ, которых видите в пределах дистанции. Совершите рукопашную атаку заклинанием по каждой цели. При попадании цель получает урон силовым полем 6d10. После этого вы можете телепортироваться в свободное пространство в пределах 1,5 метра от одной из целей, попали вы по ней или нет.'],
                'level' => 5,
                'school' => 'conjuration',
                'casting_time' => '1 действие',
                'range' => '9 м',
                'duration' => 'Мгновенная',
                'concentration' => false,
                'ritual' => false,
                'components' => ['verbal' => false, 'somatic' => true, 'material' => true, 'material_description' => 'рукопашное оружие стоимостью как минимум 1 сб'],
                'classes' => ['wizard', 'ranger'],
                'effects' => ['damage' => ['dice' => '6d10', 'type' => 'force']],
            ],
            [
                'slug' => 'immolation',
                'name' => ['ru' => 'Испепеление'],
                'description' => ['ru' => 'Пламя охватывает одно существо, которое вы видите в пределах дистанции. Цель должна пройти спасбросок Ловкости. При провале она получает урон огнём 8d6 и горит на время действия заклинания. Горящая цель испускает яркий свет в радиусе 9 метров и тусклый свет в пределах ещё 9 метров. В конце каждого своего хода цель повторяет спасбросок. При провале она получает урон огнём 4d6. При успехе заклинание оканчивается. Эти магические языки пламени нельзя потушить немагическими средствами. Если урон от этого заклинания убивает цель, она превращается в пепел.'],
                'level' => 5,
                'school' => 'evocation',
                'casting_time' => '1 действие',
                'range' => '27 м',
                'duration' => 'Концентрация, до 1 минуты',
                'concentration' => true,
                'ritual' => false,
                'components' => ['verbal' => true, 'somatic' => false, 'material' => false],
                'classes' => ['wizard', 'sorcerer'],
                'effects' => ['damage' => ['dice' => '8d6', 'type' => 'fire'], 'save' => ['ability' => 'dexterity', 'on_success' => 'none']],
            ],
            [
                'slug' => 'enervation',
                'name' => ['ru' => 'Энервация'],
                'description' => ['ru' => 'Щупальце тьмы протягивается от вас к существу, которое вы видите в пределах дистанции. Цель должна пройти спасбросок Ловкости. При провале цель получает урон некротической энергией 4d8, и пока заклинание активно, вы можете действием автоматически причинять цели урон некротической энергией 4d8. Заклинание оканчивается, если вы используете действие для чего-либо другого, если цель окажется за пределами дистанции заклинания, или если у цели будет полное укрытие от вас. Всякий раз, когда это заклинание причиняет урон цели, вы восстанавливаете хиты в количестве, равном половине причинённого урона некротической энергией.'],
                'higher_levels' => ['ru' => 'Если вы используете ячейку 6-го уровня или выше, урон увеличивается на 1d8 за каждый уровень ячейки выше 5-го.'],
                'level' => 5,
                'school' => 'necromancy',
                'casting_time' => '1 действие',
                'range' => '18 м',
                'duration' => 'Концентрация, до 1 минуты',
                'concentration' => true,
                'ritual' => false,
                'components' => ['verbal' => true, 'somatic' => true, 'material' => false],
                'classes' => ['wizard', 'sorcerer', 'warlock'],
                'effects' => ['damage' => ['dice' => '4d8', 'type' => 'necrotic'], 'save' => ['ability' => 'dexterity', 'on_success' => 'none']],
            ],
        ];
    }

    private function getHighLevelCombat(): array
    {
        return [
            [
                'slug' => 'circle-of-death',
                'name' => ['ru' => 'Круг смерти'],
                'description' => ['ru' => 'От точки, выбранной вами в пределах дистанции, распространяется сфера негативной энергии с радиусом 18 метров. Все существа в этой области должны пройти спасбросок Телосложения. При провале цель получает урон некротической энергией 8d6, а при успехе — половину этого урона.'],
                'higher_levels' => ['ru' => 'Если вы используете ячейку 7-го уровня или выше, урон увеличивается на 2d6 за каждый уровень ячейки выше 6-го.'],
                'level' => 6,
                'school' => 'necromancy',
                'casting_time' => '1 действие',
                'range' => '45 м',
                'duration' => 'Мгновенная',
                'concentration' => false,
                'ritual' => false,
                'components' => ['verbal' => true, 'somatic' => true, 'material' => true, 'material_description' => 'порошок раздробленной чёрной жемчужины стоимостью как минимум 500 зм', 'material_cost' => 500],
                'classes' => ['wizard', 'sorcerer', 'warlock'],
                'effects' => ['damage' => ['dice' => '8d6', 'type' => 'necrotic'], 'save' => ['ability' => 'constitution', 'on_success' => 'half'], 'area' => ['shape' => 'sphere', 'radius' => '18 м']],
            ],
            [
                'slug' => 'sunbeam',
                'name' => ['ru' => 'Солнечный луч'],
                'description' => ['ru' => 'Из вашей руки исходит луч ослепительного света в линии длиной 18 метров и шириной 1,5 метра. Все существа в линии должны пройти спасбросок Телосложения. При провале существо получает урон излучением 6d8 и становится ослеплённым до вашего следующего хода. При успехе оно получает половину урона и не становится ослеплённым. Нежить и слизи совершают этот спасбросок с помехой. Вы можете создать новую линию света действием в любой из своих ходов, пока заклинание активно. На время действия заклинания у вас в руке светится яркая точка света. Она испускает яркий свет в радиусе 9 метров и тусклый свет в пределах ещё 9 метров. Этот свет — солнечный свет.'],
                'level' => 6,
                'school' => 'evocation',
                'casting_time' => '1 действие',
                'range' => 'На себя (линия 18 м)',
                'duration' => 'Концентрация, до 1 минуты',
                'concentration' => true,
                'ritual' => false,
                'components' => ['verbal' => true, 'somatic' => true, 'material' => true, 'material_description' => 'увеличительное стекло'],
                'classes' => ['wizard', 'sorcerer', 'cleric', 'druid'],
                'effects' => ['damage' => ['dice' => '6d8', 'type' => 'radiant'], 'save' => ['ability' => 'constitution', 'on_success' => 'half'], 'area' => ['shape' => 'line', 'length' => '18 м', 'width' => '1,5 м']],
            ],
            [
                'slug' => 'prismatic-spray',
                'name' => ['ru' => 'Радужная стена'],
                'description' => ['ru' => 'Восемь разноцветных лучей света исходят из вашей руки. Каждый луч имеет свой цвет и особое назначение и эффект. Все существа в конусе с длиной 18 метров должны пройти спасброски. Для каждой цели бросьте d8, чтобы определить, какой цветной луч её затрагивает. 1. Красный. При провале цель получает урон огнём 10d6, или половину этого при успехе. 2. Оранжевый. При провале цель получает урон кислотой 10d6, или половину этого при успехе. 3. Жёлтый. При провале цель получает урон молнией 10d6, или половину этого при успехе. 4. Зелёный. При провале цель получает урон ядом 10d6, или половину этого при успехе. 5. Голубой. При провале цель получает урон холодом 10d6, или половину этого при успехе. 6. Синий. При провале цель получает урон силовым полем 10d6, или половину этого при успехе. 7. Фиолетовый. При провале цель становится ослеплённой. Она должна пройти спасбросок Мудрости в начале вашего следующего хода. Успех оканчивает слепоту. При провале цель переносится на случайный другой план существования и перестаёт быть ослеплённой. 8. Особый. Цель поражается двумя лучами. Бросьте ещё дважды, перебрасывая результаты 8.'],
                'level' => 7,
                'school' => 'evocation',
                'casting_time' => '1 действие',
                'range' => 'На себя (конус 18 м)',
                'duration' => 'Мгновенная',
                'concentration' => false,
                'ritual' => false,
                'components' => ['verbal' => true, 'somatic' => true, 'material' => false],
                'classes' => ['wizard', 'sorcerer'],
                'effects' => ['damage' => ['dice' => '10d6', 'type' => 'varies'], 'save' => ['ability' => 'dexterity', 'on_success' => 'half'], 'area' => ['shape' => 'cone', 'size' => '18 м']],
            ],
            [
                'slug' => 'sunburst',
                'name' => ['ru' => 'Солнечное сияние'],
                'description' => ['ru' => 'Ослепительный солнечный свет вспыхивает в точке, выбранной вами в пределах дистанции. Все существа в сфере с радиусом 18 метров с центром в этой точке должны пройти спасбросок Телосложения. При провале существо получает урон излучением 12d6 и становится ослеплённым на 1 минуту. При успехе оно получает половину урона и не становится ослеплённым. Нежить и слизи совершают этот спасбросок с помехой. Существо, ослеплённое этим заклинанием, проходит ещё один спасбросок Телосложения в конце каждого своего хода. При успехе оно перестаёт быть ослеплённым. Это заклинание рассеивает любую тьму в области, созданную заклинанием.'],
                'level' => 8,
                'school' => 'evocation',
                'casting_time' => '1 действие',
                'range' => '45 м',
                'duration' => 'Мгновенная',
                'concentration' => false,
                'ritual' => false,
                'components' => ['verbal' => true, 'somatic' => true, 'material' => true, 'material_description' => 'огонь и кусочек солнечного камня'],
                'classes' => ['wizard', 'sorcerer', 'cleric', 'druid'],
                'effects' => ['damage' => ['dice' => '12d6', 'type' => 'radiant'], 'save' => ['ability' => 'constitution', 'on_success' => 'half'], 'area' => ['shape' => 'sphere', 'radius' => '18 м']],
            ],
        ];
    }
}
