<?php

namespace Database\Seeders;

use App\Models\Setting;
use App\Models\Spell;
use Illuminate\Database\Seeder;

class UtilitySpellsSeeder extends Seeder
{
    public function run(): void
    {
        $eberron = Setting::where('slug', 'eberron')->first();

        $spells = $this->getUtilitySpells();

        $count = 0;
        foreach ($spells as $spellData) {
            $spell = Spell::updateOrCreate(
                ['slug' => $spellData['slug']],
                $spellData
            );

            if ($eberron) {
                $spell->settings()->syncWithoutDetaching([$eberron->id]);
            }
            $count++;
        }

        $this->command->info("Utility & healing spells seeded: {$count}");
    }

    private function getUtilitySpells(): array
    {
        return array_merge(
            $this->getHealingSpells(),
            $this->getClericSpells(),
            $this->getPaladinSpells(),
            $this->getBardSpells(),
            $this->getWarlockSpells(),
            $this->getArtificerSpells()
        );
    }

    private function getHealingSpells(): array
    {
        return [
            [
                'slug' => 'cure-wounds',
                'name' => ['ru' => 'Лечение ран'],
                'description' => ['ru' => 'Существо, которого вы касаетесь, восстанавливает количество хитов, равное 1d8 + ваш модификатор заклинательной характеристики. Это заклинание не оказывает никакого эффекта на нежить и конструктов.'],
                'higher_levels' => ['ru' => 'Если вы используете ячейку 2-го уровня или выше, лечение увеличивается на 1d8 за каждый уровень ячейки выше 1-го.'],
                'level' => 1,
                'school' => 'evocation',
                'casting_time' => '1 действие',
                'range' => 'Касание',
                'duration' => 'Мгновенная',
                'concentration' => false,
                'ritual' => false,
                'components' => ['verbal' => true, 'somatic' => true, 'material' => false],
                'classes' => ['cleric', 'bard', 'druid', 'paladin', 'ranger', 'artificer'],
                'effects' => ['healing' => ['dice' => '1d8']],
            ],
            [
                'slug' => 'lesser-restoration',
                'name' => ['ru' => 'Малое восстановление'],
                'description' => ['ru' => 'Вы касаетесь существа и можете окончить одну болезнь или одно состояние, от которого оно страдает. Состояние может быть ослеплён, оглушён, отравлен или парализован.'],
                'level' => 2,
                'school' => 'abjuration',
                'casting_time' => '1 действие',
                'range' => 'Касание',
                'duration' => 'Мгновенная',
                'concentration' => false,
                'ritual' => false,
                'components' => ['verbal' => true, 'somatic' => true, 'material' => false],
                'classes' => ['cleric', 'bard', 'druid', 'paladin', 'ranger', 'artificer'],
            ],
            [
                'slug' => 'prayer-of-healing',
                'name' => ['ru' => 'Молебен лечения'],
                'description' => ['ru' => 'До шести существ на ваш выбор, которых вы видите в пределах дистанции, восстанавливают хиты в количестве, равном 2d8 + ваш модификатор заклинательной характеристики. Это заклинание не действует на нежить и конструктов.'],
                'higher_levels' => ['ru' => 'Если вы используете ячейку 3-го уровня или выше, лечение увеличивается на 1d8 за каждый уровень ячейки выше 2-го.'],
                'level' => 2,
                'school' => 'evocation',
                'casting_time' => '10 минут',
                'range' => '9 м',
                'duration' => 'Мгновенная',
                'concentration' => false,
                'ritual' => false,
                'components' => ['verbal' => true, 'somatic' => false, 'material' => false],
                'classes' => ['cleric', 'paladin'],
                'effects' => ['healing' => ['dice' => '2d8']],
            ],
            [
                'slug' => 'revivify',
                'name' => ['ru' => 'Оживление'],
                'description' => ['ru' => 'Вы касаетесь существа, которое умерло в течение последней минуты. Это существо возвращается к жизни с 1 хитом. Это заклинание не может вернуть к жизни существо, умершее от старости, а также не восстанавливает отсутствующие части тела.'],
                'level' => 3,
                'school' => 'necromancy',
                'casting_time' => '1 действие',
                'range' => 'Касание',
                'duration' => 'Мгновенная',
                'concentration' => false,
                'ritual' => false,
                'components' => ['verbal' => true, 'somatic' => true, 'material' => true, 'material_description' => 'бриллианты стоимостью 300 зм', 'material_cost' => 300, 'material_consumed' => true],
                'classes' => ['cleric', 'druid', 'paladin', 'artificer'],
            ],
            [
                'slug' => 'greater-restoration',
                'name' => ['ru' => 'Высшее восстановление'],
                'description' => ['ru' => 'Вы наполняете существо, которого касаетесь, положительной энергией и устраняете изнуряющий эффект. Вы можете уменьшить уровень истощения цели на 1, или прекратить один из следующих эффектов на цели: Один эффект, очаровавший или окаменевший цель. Одно проклятие, включая настройку цели к проклятому магическому предмету. Уменьшение одного из значений характеристик цели. Один эффект, уменьшающий максимум хитов цели.'],
                'level' => 5,
                'school' => 'abjuration',
                'casting_time' => '1 действие',
                'range' => 'Касание',
                'duration' => 'Мгновенная',
                'concentration' => false,
                'ritual' => false,
                'components' => ['verbal' => true, 'somatic' => true, 'material' => true, 'material_description' => 'алмазная пыль стоимостью не менее 100 зм', 'material_cost' => 100, 'material_consumed' => true],
                'classes' => ['cleric', 'bard', 'druid', 'artificer'],
            ],
            [
                'slug' => 'heal',
                'name' => ['ru' => 'Исцеление'],
                'description' => ['ru' => 'Выберите существо, которое видите в пределах дистанции. Волна положительной энергии омывает существо, и оно восстанавливает 70 хитов. Это заклинание также прекращает на цели слепоту, глухоту и все болезни. Это заклинание не оказывает эффекта на нежить и конструктов.'],
                'higher_levels' => ['ru' => 'Если вы используете ячейку 7-го уровня или выше, количество восстанавливаемых хитов увеличивается на 10 за каждый уровень ячейки выше 6-го.'],
                'level' => 6,
                'school' => 'evocation',
                'casting_time' => '1 действие',
                'range' => '18 м',
                'duration' => 'Мгновенная',
                'concentration' => false,
                'ritual' => false,
                'components' => ['verbal' => true, 'somatic' => true, 'material' => false],
                'classes' => ['cleric', 'druid'],
            ],
            [
                'slug' => 'regenerate',
                'name' => ['ru' => 'Регенерация'],
                'description' => ['ru' => 'Вы касаетесь существа и стимулируете его естественные восстанавливающие способности. Цель восстанавливает 4d8+15 хитов. Затем на время действия заклинания цель восстанавливает по 1 хиту в начале каждого своего хода (10 хитов в минуту). Отсечённые части тела цели (пальцы, ноги, хвосты и так далее), если они есть, восстанавливаются через 2 минуты. Если вы держите отсечённую часть тела возле обрубка, заклинание мгновенно заставляет конечность приживиться.'],
                'level' => 7,
                'school' => 'transmutation',
                'casting_time' => '1 минута',
                'range' => 'Касание',
                'duration' => '1 час',
                'concentration' => false,
                'ritual' => false,
                'components' => ['verbal' => true, 'somatic' => true, 'material' => true, 'material_description' => 'молельное колесо и святая вода'],
                'classes' => ['cleric', 'bard', 'druid'],
                'effects' => ['healing' => ['dice' => '4d8+15']],
            ],
            [
                'slug' => 'resurrection',
                'name' => ['ru' => 'Воскрешение'],
                'description' => ['ru' => 'Вы касаетесь мёртвого существа, которое было мёртвым не более столетия, которое умерло не от старости, и чья душа свободна и согласна вернуться. Цель возвращается к жизни со всеми хитами. Это заклинание нейтрализует все яды и исцеляет немагические болезни, которые действовали на существо на момент смерти. Однако это заклинание не устраняет магические болезни, проклятия и подобные эффекты; если они не были сначала устранены до накладывания этого заклинания, они вступают в силу, когда существо возвращается к жизни. Это заклинание закрывает все раны от смерти и восстанавливает отсутствующие части тела.'],
                'level' => 7,
                'school' => 'necromancy',
                'casting_time' => '1 час',
                'range' => 'Касание',
                'duration' => 'Мгновенная',
                'concentration' => false,
                'ritual' => false,
                'components' => ['verbal' => true, 'somatic' => true, 'material' => true, 'material_description' => 'бриллиант стоимостью как минимум 1000 зм', 'material_cost' => 1000, 'material_consumed' => true],
                'classes' => ['cleric', 'bard'],
            ],
        ];
    }

    private function getClericSpells(): array
    {
        return [
            [
                'slug' => 'sacred-flame',
                'name' => ['ru' => 'Священное пламя'],
                'description' => ['ru' => 'Похожее на пламя сияние нисходит на существо, видимое вами в пределах дистанции. Цель должна преуспеть в спасброске Ловкости, иначе она получит урон излучением 1d8. Цель не получает преимуществ от укрытия при этом спасброске.'],
                'higher_levels' => ['ru' => 'Урон заклинания увеличивается на 1d8, когда вы достигаете 5-го уровня (2d8), 11-го уровня (3d8) и 17-го уровня (4d8).'],
                'level' => 0,
                'school' => 'evocation',
                'casting_time' => '1 действие',
                'range' => '18 м',
                'duration' => 'Мгновенная',
                'concentration' => false,
                'ritual' => false,
                'components' => ['verbal' => true, 'somatic' => true, 'material' => false],
                'classes' => ['cleric'],
                'effects' => ['damage' => ['dice' => '1d8', 'type' => 'radiant'], 'save' => ['ability' => 'dexterity', 'on_success' => 'none']],
            ],
            [
                'slug' => 'bless',
                'name' => ['ru' => 'Благословение'],
                'description' => ['ru' => 'Вы благословляете до трёх существ на свой выбор в пределах дистанции. Каждый раз, когда до окончания заклинания цель совершает бросок атаки или спасбросок, она может бросить d4 и добавить выпавшее число к результату.'],
                'higher_levels' => ['ru' => 'Если вы используете ячейку 2-го уровня или выше, вы можете сделать целью одно дополнительное существо за каждый уровень ячейки выше 1-го.'],
                'level' => 1,
                'school' => 'enchantment',
                'casting_time' => '1 действие',
                'range' => '9 м',
                'duration' => 'Концентрация, до 1 минуты',
                'concentration' => true,
                'ritual' => false,
                'components' => ['verbal' => true, 'somatic' => true, 'material' => true, 'material_description' => 'капля святой воды'],
                'classes' => ['cleric', 'paladin'],
            ],
            [
                'slug' => 'guiding-bolt',
                'name' => ['ru' => 'Направленный снаряд'],
                'description' => ['ru' => 'Вспышка света устремляется к существу на ваш выбор в пределах дистанции. Совершите дальнобойную атаку заклинанием по цели. При попадании цель получает урон излучением 4d6, и следующий бросок атаки по этой цели до конца вашего следующего хода совершается с преимуществом благодаря мистическому тусклому свету, мерцающему на цели.'],
                'higher_levels' => ['ru' => 'Если вы используете ячейку 2-го уровня или выше, урон увеличивается на 1d6 за каждый уровень ячейки выше 1-го.'],
                'level' => 1,
                'school' => 'evocation',
                'casting_time' => '1 действие',
                'range' => '36 м',
                'duration' => '1 раунд',
                'concentration' => false,
                'ritual' => false,
                'components' => ['verbal' => true, 'somatic' => true, 'material' => false],
                'classes' => ['cleric'],
                'effects' => ['damage' => ['dice' => '4d6', 'type' => 'radiant']],
            ],
            [
                'slug' => 'sanctuary',
                'name' => ['ru' => 'Убежище'],
                'description' => ['ru' => 'Вы защищаете одно существо в пределах дистанции от атак. Пока заклинание активно, все существа, нацеливающиеся на охраняемое существо атакой или вредоносным заклинанием, должны сначала пройти спасбросок Мудрости. При провале существо должно выбрать новую цель или потерять атаку или заклинание. Это заклинание не защищает охраняемое существо от эффектов по площади, таких как взрыв огненного шара. Если охраняемое существо совершает атаку, накладывает заклинание, воздействующее на враждебное существо, или причиняет урон другому существу, это заклинание оканчивается.'],
                'level' => 1,
                'school' => 'abjuration',
                'casting_time' => '1 бонусное действие',
                'range' => '9 м',
                'duration' => '1 минута',
                'concentration' => false,
                'ritual' => false,
                'components' => ['verbal' => true, 'somatic' => true, 'material' => true, 'material_description' => 'маленькое серебряное зеркальце'],
                'classes' => ['cleric', 'artificer'],
                'effects' => ['save' => ['ability' => 'wisdom', 'on_success' => 'attack proceeds']],
            ],
            [
                'slug' => 'spiritual-weapon',
                'name' => ['ru' => 'Божественное оружие'],
                'description' => ['ru' => 'Вы создаёте в пределах дистанции парящее призрачное оружие, существующее, пока заклинание активно, или пока вы не используете это заклинание ещё раз. Когда вы накладываете это заклинание, вы можете совершить рукопашную атаку заклинанием по существу, находящемуся в пределах 1,5 метра от оружия. При попадании цель получает урон силовым полем, равный 1d8 + ваш модификатор заклинательной характеристики. Вы можете бонусным действием в свой ход переместить оружие на 6 метров и повторить атаку по существу в пределах 1,5 метра от него.'],
                'higher_levels' => ['ru' => 'Если вы используете ячейку 3-го уровня или выше, урон увеличивается на 1d8 за каждые два уровня ячейки выше 2-го.'],
                'level' => 2,
                'school' => 'evocation',
                'casting_time' => '1 бонусное действие',
                'range' => '18 м',
                'duration' => '1 минута',
                'concentration' => false,
                'ritual' => false,
                'components' => ['verbal' => true, 'somatic' => true, 'material' => false],
                'classes' => ['cleric'],
                'effects' => ['damage' => ['dice' => '1d8', 'type' => 'force']],
            ],
            [
                'slug' => 'spirit-guardians',
                'name' => ['ru' => 'Духовные стражи'],
                'description' => ['ru' => 'Вы вызываете духов для защиты себя. Они парят вокруг вас на расстоянии 4,5 метров, пока заклинание активно. Если вы добрый или нейтральный, призрачные духи кажутся ангелами или феями (на ваш выбор). Если вы злой, они кажутся исчадиями. Когда вы накладываете это заклинание, вы можете указать любое количество существ, которых видите, чтобы на них не действовало это заклинание. Скорость всех остальных существ, находящихся в области, уменьшается вдвое, и когда существо впервые за ход входит в область или начинает там ход, оно должно пройти спасбросок Мудрости. При провале существо получает урон излучением 3d8 (если вы добрый или нейтральный) или урон некротической энергией 3d8 (если вы злой). При успехе существо получает половину этого урона.'],
                'higher_levels' => ['ru' => 'Если вы используете ячейку 4-го уровня или выше, урон увеличивается на 1d8 за каждый уровень ячейки выше 3-го.'],
                'level' => 3,
                'school' => 'conjuration',
                'casting_time' => '1 действие',
                'range' => 'На себя (радиус 4,5 м)',
                'duration' => 'Концентрация, до 10 минут',
                'concentration' => true,
                'ritual' => false,
                'components' => ['verbal' => true, 'somatic' => true, 'material' => true, 'material_description' => 'святой символ'],
                'classes' => ['cleric'],
                'effects' => ['damage' => ['dice' => '3d8', 'type' => 'radiant'], 'save' => ['ability' => 'wisdom', 'on_success' => 'half'], 'area' => ['shape' => 'sphere', 'radius' => '4,5 м']],
            ],
            [
                'slug' => 'death-ward',
                'name' => ['ru' => 'Защита от смерти'],
                'description' => ['ru' => 'Вы касаетесь существа и даруете ему меру защиты от смерти. Когда в первый раз хиты цели опустятся до 0 в результате получения урона, хиты цели вместо этого опускаются до 1, и заклинание оканчивается. Если заклинание всё ещё активно, и цель становится жертвой эффекта, который убивает её мгновенно, не причиняя урона, этот эффект отменяется для цели, и заклинание оканчивается.'],
                'level' => 4,
                'school' => 'abjuration',
                'casting_time' => '1 действие',
                'range' => 'Касание',
                'duration' => '8 часов',
                'concentration' => false,
                'ritual' => false,
                'components' => ['verbal' => true, 'somatic' => true, 'material' => false],
                'classes' => ['cleric', 'paladin'],
            ],
            [
                'slug' => 'flame-strike',
                'name' => ['ru' => 'Небесный огонь'],
                'description' => ['ru' => 'Вертикальный столб божественного огня падает с небес в точке, выбранной вами. Все существа в цилиндре с радиусом 3 метра и высотой 12 метров с центром в этой точке должны пройти спасбросок Ловкости. При провале существо получает урон огнём 4d6 и урон излучением 4d6, а при успехе — половину этого урона.'],
                'higher_levels' => ['ru' => 'Если вы используете ячейку 6-го уровня или выше, урон огнём или урон излучением (на ваш выбор) увеличивается на 1d6 за каждый уровень ячейки выше 5-го.'],
                'level' => 5,
                'school' => 'evocation',
                'casting_time' => '1 действие',
                'range' => '18 м',
                'duration' => 'Мгновенная',
                'concentration' => false,
                'ritual' => false,
                'components' => ['verbal' => true, 'somatic' => true, 'material' => true, 'material_description' => 'щепотка серы'],
                'classes' => ['cleric'],
                'effects' => ['damage' => ['dice' => '4d6+4d6', 'type' => 'fire, radiant'], 'save' => ['ability' => 'dexterity', 'on_success' => 'half'], 'area' => ['shape' => 'cylinder', 'radius' => '3 м', 'height' => '12 м']],
            ],
        ];
    }

    private function getPaladinSpells(): array
    {
        return [
            [
                'slug' => 'divine-smite',
                'name' => ['ru' => 'Божественная кара'],
                'description' => ['ru' => 'Когда вы попадаете по существу рукопашной атакой оружием, вы можете потратить одну ячейку заклинания, чтобы причинить цели урон излучением, дополнительно к урону оружия. Дополнительный урон равен 2d8 для ячейки 1-го уровня, плюс 1d8 за каждый уровень ячейки выше 1-го, до максимума в 5d8. Урон увеличивается на 1d8, если цель — нежить или исчадие.'],
                'level' => 1,
                'school' => 'evocation',
                'casting_time' => '1 бонусное действие (часть атаки)',
                'range' => 'На себя',
                'duration' => 'Мгновенная',
                'concentration' => false,
                'ritual' => false,
                'components' => ['verbal' => false, 'somatic' => false, 'material' => false],
                'classes' => ['paladin'],
                'effects' => ['damage' => ['dice' => '2d8', 'type' => 'radiant']],
            ],
            [
                'slug' => 'thunderous-smite',
                'name' => ['ru' => 'Громовая кара'],
                'description' => ['ru' => 'Первый раз, когда вы попадаете рукопашной атакой оружием во время действия этого заклинания, ваше оружие громыхает так сильно, что это слышно за 90 метров, и атака причиняет цели дополнительный урон звуком 2d6. Кроме того, если цель — существо, она должна преуспеть в спасброске Силы, иначе будет отброшена от вас на 3 метра и собьётся с ног.'],
                'level' => 1,
                'school' => 'evocation',
                'casting_time' => '1 бонусное действие',
                'range' => 'На себя',
                'duration' => 'Концентрация, до 1 минуты',
                'concentration' => true,
                'ritual' => false,
                'components' => ['verbal' => true, 'somatic' => false, 'material' => false],
                'classes' => ['paladin'],
                'effects' => ['damage' => ['dice' => '2d6', 'type' => 'thunder'], 'save' => ['ability' => 'strength', 'on_success' => 'not pushed']],
            ],
            [
                'slug' => 'wrathful-smite',
                'name' => ['ru' => 'Гневная кара'],
                'description' => ['ru' => 'В первый раз, когда вы попадаете рукопашной атакой оружием, пока заклинание активно, атака причиняет дополнительный урон психической энергией 1d6. Кроме того, если цель — существо, она должна пройти спасбросок Мудрости, иначе станет испуганной вами, пока заклинание активно. Существо может действием совершить проверку Мудрости против Сложности ваших заклинаний, чтобы преодолеть страх и закончить заклинание.'],
                'level' => 1,
                'school' => 'evocation',
                'casting_time' => '1 бонусное действие',
                'range' => 'На себя',
                'duration' => 'Концентрация, до 1 минуты',
                'concentration' => true,
                'ritual' => false,
                'components' => ['verbal' => true, 'somatic' => false, 'material' => false],
                'classes' => ['paladin'],
                'effects' => ['damage' => ['dice' => '1d6', 'type' => 'psychic'], 'save' => ['ability' => 'wisdom', 'on_success' => 'not frightened']],
            ],
            [
                'slug' => 'find-steed',
                'name' => ['ru' => 'Поиск скакуна'],
                'description' => ['ru' => 'Вы призываете духа, который принимает форму необычайно умного, сильного и верного скакуна, создавая прочную связь с вами. Появившись в свободном пространстве в пределах дистанции, скакун принимает выбранную вами форму: боевой конь, пони, верблюд, лось или мастиф. Скакун получает характеристики выбранной формы, хотя он является не зверем, а небесным существом, феей или исчадием (на ваш выбор). Кроме того, если у скакуна Интеллект 5 или меньше, его Интеллект становится равен 6, и он получает способность понимать один язык на ваш выбор, на котором говорите вы. Скакун служит вам как верховое животное, в бою и вне его, и у вас есть инстинктивная связь с ним, позволяющая вам сражаться как единое целое.'],
                'level' => 2,
                'school' => 'conjuration',
                'casting_time' => '10 минут',
                'range' => '9 м',
                'duration' => 'Мгновенная',
                'concentration' => false,
                'ritual' => false,
                'components' => ['verbal' => true, 'somatic' => true, 'material' => false],
                'classes' => ['paladin'],
            ],
            [
                'slug' => 'aura-of-vitality',
                'name' => ['ru' => 'Аура живучести'],
                'description' => ['ru' => 'Целительная энергия излучается из вас аурой с радиусом 9 метров. Пока заклинание активно, вы можете бонусным действием заставить одно существо в пределах ауры (в том числе себя) восстановить 2d6 хитов.'],
                'level' => 3,
                'school' => 'evocation',
                'casting_time' => '1 действие',
                'range' => 'На себя (радиус 9 м)',
                'duration' => 'Концентрация, до 1 минуты',
                'concentration' => true,
                'ritual' => false,
                'components' => ['verbal' => true, 'somatic' => false, 'material' => false],
                'classes' => ['paladin', 'cleric', 'druid'],
                'effects' => ['healing' => ['dice' => '2d6']],
            ],
            [
                'slug' => 'find-greater-steed',
                'name' => ['ru' => 'Поиск высшего скакуна'],
                'description' => ['ru' => 'Вы призываете духа, который принимает форму необычайно умного, сильного и верного скакуна, создавая прочную связь с вами. Появившись в свободном пространстве в пределах дистанции, скакун принимает выбранную вами форму: грифон, пегас, перитон, чудовищный конь, саблезубый тигр или дайр-волк. Скакун получает характеристики выбранной формы, хотя он является небесным существом, феей или исчадием (на ваш выбор), а не обычным существом.'],
                'level' => 4,
                'school' => 'conjuration',
                'casting_time' => '10 минут',
                'range' => '9 м',
                'duration' => 'Мгновенная',
                'concentration' => false,
                'ritual' => false,
                'components' => ['verbal' => true, 'somatic' => true, 'material' => false],
                'classes' => ['paladin'],
            ],
        ];
    }

    private function getBardSpells(): array
    {
        return [
            [
                'slug' => 'vicious-mockery',
                'name' => ['ru' => 'Злая насмешка'],
                'description' => ['ru' => 'Вы произносите в адрес существа, видимого в пределах дистанции, оскорбление, переплетённое с лёгким колдовством. Если цель слышит вас (она не обязана вас понимать), она должна преуспеть в спасброске Мудрости, иначе получит урон психической энергией 1d4, и следующий бросок атаки, который она совершит до конца своего следующего хода, совершается с помехой.'],
                'higher_levels' => ['ru' => 'Урон заклинания увеличивается на 1d4, когда вы достигаете 5-го уровня (2d4), 11-го уровня (3d4) и 17-го уровня (4d4).'],
                'level' => 0,
                'school' => 'enchantment',
                'casting_time' => '1 действие',
                'range' => '18 м',
                'duration' => 'Мгновенная',
                'concentration' => false,
                'ritual' => false,
                'components' => ['verbal' => true, 'somatic' => false, 'material' => false],
                'classes' => ['bard'],
                'effects' => ['damage' => ['dice' => '1d4', 'type' => 'psychic'], 'save' => ['ability' => 'wisdom', 'on_success' => 'none']],
            ],
            [
                'slug' => 'dissonant-whispers',
                'name' => ['ru' => 'Диссонирующий шёпот'],
                'description' => ['ru' => 'Вы шепчете диссонирующую мелодию, которую может слышать только одно выбранное вами существо в пределах дистанции. Цель, терзаемая болью, должна пройти спасбросок Мудрости. При провале она получает урон психической энергией 3d6 и должна немедленно реакцией переместиться так далеко от вас, как позволяет её скорость. Существо не двигается на очевидно опасную территорию, такую как огонь или яма. При успехе цель получает половину урона и не перемещается. Глухое существо автоматически преуспевает в спасброске.'],
                'higher_levels' => ['ru' => 'Если вы используете ячейку 2-го уровня или выше, урон увеличивается на 1d6 за каждый уровень ячейки выше 1-го.'],
                'level' => 1,
                'school' => 'enchantment',
                'casting_time' => '1 действие',
                'range' => '18 м',
                'duration' => 'Мгновенная',
                'concentration' => false,
                'ritual' => false,
                'components' => ['verbal' => true, 'somatic' => false, 'material' => false],
                'classes' => ['bard'],
                'effects' => ['damage' => ['dice' => '3d6', 'type' => 'psychic'], 'save' => ['ability' => 'wisdom', 'on_success' => 'half']],
            ],
            [
                'slug' => 'faerie-fire',
                'name' => ['ru' => 'Огонь фей'],
                'description' => ['ru' => 'Все предметы в кубе с длиной ребра 6 метров в пределах дистанции подсвечиваются голубым, зелёным или фиолетовым светом (на ваш выбор). Все существа в этой области тоже подсвечиваются, если проваливают спасбросок Ловкости. Подсвеченные таким образом предметы и существа испускают тусклый свет в радиусе 3 метров. Все броски атаки по затронутым существам или предметам совершаются с преимуществом, если атакующий видит их, и затронутые существа и предметы не получают преимуществ от невидимости.'],
                'level' => 1,
                'school' => 'evocation',
                'casting_time' => '1 действие',
                'range' => '18 м',
                'duration' => 'Концентрация, до 1 минуты',
                'concentration' => true,
                'ritual' => false,
                'components' => ['verbal' => true, 'somatic' => false, 'material' => false],
                'classes' => ['bard', 'druid'],
                'effects' => ['save' => ['ability' => 'dexterity', 'on_success' => 'none'], 'area' => ['shape' => 'cube', 'size' => '6 м']],
            ],
            [
                'slug' => 'heroism',
                'name' => ['ru' => 'Героизм'],
                'description' => ['ru' => 'Согласное существо, которого вы касаетесь, наполняется храбростью. Пока заклинание активно, существо получает иммунитет к состоянию испуган, и в начале каждого своего хода получает временные хиты, равные вашему модификатору заклинательной характеристики. Когда заклинание оканчивается, цель теряет все оставшиеся временные хиты от этого заклинания.'],
                'higher_levels' => ['ru' => 'Если вы используете ячейку 2-го уровня или выше, вы можете сделать целью одно дополнительное существо за каждый уровень ячейки выше 1-го.'],
                'level' => 1,
                'school' => 'enchantment',
                'casting_time' => '1 действие',
                'range' => 'Касание',
                'duration' => 'Концентрация, до 1 минуты',
                'concentration' => true,
                'ritual' => false,
                'components' => ['verbal' => true, 'somatic' => true, 'material' => false],
                'classes' => ['bard', 'paladin'],
            ],
            [
                'slug' => 'heat-metal',
                'name' => ['ru' => 'Раскалённый металл'],
                'description' => ['ru' => 'Выберите промышленный металлический предмет, такой как металлическое оружие или комплект тяжёлых или средних металлических доспехов, видимый в пределах дистанции. Вы заставляете предмет раскаляться докрасна. Все существа, находящиеся в физическом контакте с предметом, получают урон огнём 2d8 при накладывании заклинания. Пока заклинание активно, вы можете в каждый свой ход бонусным действием причинять этот урон ещё раз. Если существо держит предмет, причиняющий урон, или носит его, оно должно преуспеть в спасброске Телосложения, иначе бросит предмет, если сможет. Если не бросит, до начала вашего следующего хода у него помеха на броски атаки и проверки характеристик.'],
                'higher_levels' => ['ru' => 'Если вы используете ячейку 3-го уровня или выше, урон увеличивается на 1d8 за каждый уровень ячейки выше 2-го.'],
                'level' => 2,
                'school' => 'transmutation',
                'casting_time' => '1 действие',
                'range' => '18 м',
                'duration' => 'Концентрация, до 1 минуты',
                'concentration' => true,
                'ritual' => false,
                'components' => ['verbal' => true, 'somatic' => true, 'material' => true, 'material_description' => 'кусочек железа и огонь'],
                'classes' => ['bard', 'druid', 'artificer'],
                'effects' => ['damage' => ['dice' => '2d8', 'type' => 'fire'], 'save' => ['ability' => 'constitution', 'on_success' => 'drop item']],
            ],
            [
                'slug' => 'hypnotic-pattern',
                'name' => ['ru' => 'Гипнотический узор'],
                'description' => ['ru' => 'Вы создаёте кружащийся узор из цветов в воздухе в кубе с длиной ребра 9 метров в пределах дистанции. Узор появляется на какое-то мгновение и исчезает. Все существа в области, видящие узор, должны пройти спасбросок Мудрости. При провале существо становится очарованным на время действия заклинания. Будучи очарованным этим заклинанием, существо недееспособно и имеет скорость 0. Заклинание оканчивается для затронутого существа, если оно получает урон, или если кто-то другой тратит действие, чтобы вывести его из ступора.'],
                'level' => 3,
                'school' => 'illusion',
                'casting_time' => '1 действие',
                'range' => '36 м',
                'duration' => 'Концентрация, до 1 минуты',
                'concentration' => true,
                'ritual' => false,
                'components' => ['verbal' => false, 'somatic' => true, 'material' => true, 'material_description' => 'светящаяся палочка благовоний или хрустальный флакон, наполненный фосфоресцирующим материалом'],
                'classes' => ['bard', 'sorcerer', 'warlock', 'wizard'],
                'effects' => ['save' => ['ability' => 'wisdom', 'on_success' => 'none'], 'area' => ['shape' => 'cube', 'size' => '9 м']],
            ],
        ];
    }

    private function getWarlockSpells(): array
    {
        return [
            [
                'slug' => 'eldritch-blast',
                'name' => ['ru' => 'Мистический заряд'],
                'description' => ['ru' => 'Луч потрескивающей энергии устремляется к существу в пределах дистанции. Совершите дальнобойную атаку заклинанием по цели. При попадании цель получает урон силовым полем 1d10.'],
                'higher_levels' => ['ru' => 'Заклинание создаёт больше одного луча, когда вы достигаете больших уровней: два луча на 5-м уровне, три луча на 11-м уровне, четыре луча на 17-м уровне. Вы можете направлять лучи в одну цель или в разных. Совершите отдельный бросок атаки для каждого луча.'],
                'level' => 0,
                'school' => 'evocation',
                'casting_time' => '1 действие',
                'range' => '36 м',
                'duration' => 'Мгновенная',
                'concentration' => false,
                'ritual' => false,
                'components' => ['verbal' => true, 'somatic' => true, 'material' => false],
                'classes' => ['warlock'],
                'effects' => ['damage' => ['dice' => '1d10', 'type' => 'force']],
            ],
            [
                'slug' => 'hex',
                'name' => ['ru' => 'Сглаз'],
                'description' => ['ru' => 'Вы накладываете проклятье на существо, видимое в пределах дистанции. Пока заклинание активно, вы причиняете цели дополнительный урон некротической энергией 1d6 каждый раз, когда попадаете по ней атакой. Кроме того, выберите одну характеристику при накладывании заклинания. Цель совершает проверки этой характеристики с помехой. Если хиты цели опускаются до 0, пока заклинание активно, вы можете в последующий ход бонусным действием проклясть новое существо.'],
                'higher_levels' => ['ru' => 'Если вы используете ячейку 3-го или 4-го уровня, вы можете поддерживать концентрацию до 8 часов. При использовании ячейки 5-го уровня или выше вы можете поддерживать концентрацию до 24 часов.'],
                'level' => 1,
                'school' => 'enchantment',
                'casting_time' => '1 бонусное действие',
                'range' => '27 м',
                'duration' => 'Концентрация, до 1 часа',
                'concentration' => true,
                'ritual' => false,
                'components' => ['verbal' => true, 'somatic' => true, 'material' => true, 'material_description' => 'окаменевший глаз тритона'],
                'classes' => ['warlock'],
                'effects' => ['damage' => ['dice' => '1d6', 'type' => 'necrotic']],
            ],
            [
                'slug' => 'armor-of-agathys',
                'name' => ['ru' => 'Доспех Агатиса'],
                'description' => ['ru' => 'Защитная магическая сила окружает вас, проявляя себя в виде призрачного мороза, покрывающего вас и ваше снаряжение. Вы получаете 5 временных хитов на время действия заклинания. Если существо попадает по вам рукопашной атакой, пока у вас есть эти хиты, оно получает урон холодом 5.'],
                'higher_levels' => ['ru' => 'Если вы используете ячейку 2-го уровня или выше, и временные хиты, и урон холодом увеличиваются на 5 за каждый уровень ячейки выше 1-го.'],
                'level' => 1,
                'school' => 'abjuration',
                'casting_time' => '1 действие',
                'range' => 'На себя',
                'duration' => '1 час',
                'concentration' => false,
                'ritual' => false,
                'components' => ['verbal' => true, 'somatic' => true, 'material' => true, 'material_description' => 'чашка воды'],
                'classes' => ['warlock'],
                'effects' => ['damage' => ['dice' => '5', 'type' => 'cold']],
            ],
            [
                'slug' => 'darkness',
                'name' => ['ru' => 'Тьма'],
                'description' => ['ru' => 'Из точки, выбранной в пределах дистанции, расползается магическая тьма, заполняя сферу с радиусом 4,5 метров. Тьма огибает углы. Существо с тёмным зрением не может видеть сквозь эту тьму, и немагический свет не может её осветить. Если выбранная точка находится на предмете, который вы держите, или на предмете, который никто не несёт и не носит, тьма исходит от предмета и движется вместе с ним. Полное покрытие источника тьмы непрозрачным предметом, таким как чаша или шлем, блокирует тьму. Если какая-либо область этого заклинания пересекается с областью света, созданного заклинанием 2-го уровня или ниже, заклинание, создавшее свет, рассеивается.'],
                'level' => 2,
                'school' => 'evocation',
                'casting_time' => '1 действие',
                'range' => '18 м',
                'duration' => 'Концентрация, до 10 минут',
                'concentration' => true,
                'ritual' => false,
                'components' => ['verbal' => true, 'somatic' => false, 'material' => true, 'material_description' => 'шерсть летучей мыши и капля дёгтя или кусочек угля'],
                'classes' => ['warlock', 'sorcerer'],
                'effects' => ['area' => ['shape' => 'sphere', 'radius' => '4,5 м']],
            ],
            [
                'slug' => 'hunger-of-hadar',
                'name' => ['ru' => 'Голод Хадара'],
                'description' => ['ru' => 'Вы открываете врата в тёмную область межзвёздного пространства, область, населённую неизвестными ужасами. В пределах дистанции появляется сфера с радиусом 6 метров, наполненная чернотой и леденящим холодом. Эта пустота наполнена какофонией тихих шёпотов и чавкающих звуков, которые слышны на расстоянии 9 метров. Свет не может освещать область заклинания, и существа, целиком находящиеся в ней, ослеплены. Пустота создаёт искажение ткани пространства, и область считается труднопроходимой местностью. Все существа, начинающие ход в области, получают урон холодом 2d6. Все существа, оканчивающие ход в области, должны пройти спасбросок Ловкости, получая урон кислотой 2d6 при провале, так как ртообразные щупальца из другого измерения хватают их.'],
                'level' => 3,
                'school' => 'conjuration',
                'casting_time' => '1 действие',
                'range' => '45 м',
                'duration' => 'Концентрация, до 1 минуты',
                'concentration' => true,
                'ritual' => false,
                'components' => ['verbal' => true, 'somatic' => true, 'material' => true, 'material_description' => 'маринованное щупальце осьминога'],
                'classes' => ['warlock'],
                'effects' => ['damage' => ['dice' => '2d6+2d6', 'type' => 'cold, acid'], 'save' => ['ability' => 'dexterity', 'on_success' => 'half acid'], 'area' => ['shape' => 'sphere', 'radius' => '6 м']],
            ],
        ];
    }

    private function getArtificerSpells(): array
    {
        return [
            [
                'slug' => 'mending',
                'name' => ['ru' => 'Починка'],
                'description' => ['ru' => 'Это заклинание чинит один разрыв или трещину на предмете, которого вы касаетесь, например, разорванную цепь, две половинки сломанного ключа, порванный плащ или протекающий бурдюк. Если разрыв или трещина не больше 30 сантиметров в любом измерении, вы чините её, не оставляя ни следа повреждения. Это заклинание может физически восстановить магический предмет или конструкта, но не может восстановить магию в таком предмете.'],
                'level' => 0,
                'school' => 'transmutation',
                'casting_time' => '1 минута',
                'range' => 'Касание',
                'duration' => 'Мгновенная',
                'concentration' => false,
                'ritual' => false,
                'components' => ['verbal' => true, 'somatic' => true, 'material' => true, 'material_description' => 'два магнита'],
                'classes' => ['artificer', 'bard', 'cleric', 'druid', 'sorcerer', 'wizard'],
            ],
            [
                'slug' => 'catapult',
                'name' => ['ru' => 'Катапульта'],
                'description' => ['ru' => 'Выберите один предмет весом от 0,5 до 2,5 килограмм в пределах дистанции, который никто не несёт и не носит. Предмет летит по прямой линии на 27 метров в выбранном вами направлении, после чего падает на землю, останавливаясь при столкновении с твёрдой поверхностью. Если предмет должен попасть в существо, это существо должно пройти спасбросок Ловкости. При провале предмет попадает в цель, и цель и предмет получают дробящий урон 3d8. При успехе цель уклоняется, и предмет летит дальше.'],
                'higher_levels' => ['ru' => 'Если вы используете ячейку 2-го уровня или выше, максимальный вес предмета увеличивается на 2,5 кг, а урон увеличивается на 1d8 за каждый уровень ячейки выше 1-го.'],
                'level' => 1,
                'school' => 'transmutation',
                'casting_time' => '1 действие',
                'range' => '18 м',
                'duration' => 'Мгновенная',
                'concentration' => false,
                'ritual' => false,
                'components' => ['verbal' => false, 'somatic' => true, 'material' => false],
                'classes' => ['artificer', 'sorcerer', 'wizard'],
                'effects' => ['damage' => ['dice' => '3d8', 'type' => 'bludgeoning'], 'save' => ['ability' => 'dexterity', 'on_success' => 'none']],
            ],
            [
                'slug' => 'fabriacte',
                'name' => ['ru' => 'Изготовление'],
                'description' => ['ru' => 'Вы превращаете сырьё в изделия из этого материала. Например, вы можете изготовить деревянный мост из нескольких деревьев, верёвку из конопляных волокон, и одежду из льна или шерсти. Выберите сырьё, видимое в пределах дистанции. Вы можете изготовить Большой или меньший предмет (помещающийся в куб с длиной ребра 3 метра или в восемь связанных кубов с длиной ребра 1,5 метра) при наличии достаточного количества сырья. Однако если вы работаете с металлом, камнем или другим минеральным веществом, изготовленный предмет может быть не более Среднего размера (помещающийся в один куб с длиной ребра 1,5 метра). Качество предмета, созданного этим заклинанием, соответствует качеству сырья.'],
                'level' => 4,
                'school' => 'transmutation',
                'casting_time' => '10 минут',
                'range' => '36 м',
                'duration' => 'Мгновенная',
                'concentration' => false,
                'ritual' => false,
                'components' => ['verbal' => true, 'somatic' => true, 'material' => false],
                'classes' => ['artificer', 'wizard'],
            ],
            [
                'slug' => 'arcane-lock',
                'name' => ['ru' => 'Волшебный замок'],
                'description' => ['ru' => 'Вы касаетесь закрытой двери, окна, ворот, сундука или другого входа, и он становится запертым на время действия заклинания. Вы и указанные вами существа при накладывании этого заклинания можете открывать предмет как обычно. Вы также можете установить пароль, который, если произнести его в пределах 1,5 метра от предмета, подавляет это заклинание на 1 минуту. В противном случае предмет невозможно открыть обычными способами или взломом, хотя такие заклинания как открывание могут это сделать. Накладывание заклинания стук на предмет подавляет волшебный замок на 10 минут. Пока это заклинание действует, предмет сложнее взломать или открыть; Сложность для этого увеличивается на 10.'],
                'level' => 2,
                'school' => 'abjuration',
                'casting_time' => '1 действие',
                'range' => 'Касание',
                'duration' => 'Пока не рассеяно',
                'concentration' => false,
                'ritual' => false,
                'components' => ['verbal' => true, 'somatic' => true, 'material' => true, 'material_description' => 'золотая пыль стоимостью как минимум 25 зм', 'material_cost' => 25, 'material_consumed' => true],
                'classes' => ['artificer', 'wizard'],
            ],
            [
                'slug' => 'enhance-ability',
                'name' => ['ru' => 'Улучшение характеристики'],
                'description' => ['ru' => 'Вы касаетесь существа и даруете ему магическое улучшение. Выберите один из следующих эффектов; цель получает этот эффект, пока заклинание активно: Медвежья выносливость. Цель получает преимущество на проверки Телосложения. Она также получает 2d6 временных хитов, которые исчезают при окончании заклинания. Бычья сила. Цель получает преимущество на проверки Силы, а её грузоподъёмность удваивается. Кошачья грация. Цель получает преимущество на проверки Ловкости. Она также не получает урона от падения с высоты 6 метров и менее, если она дееспособна. Лисья хитрость. Цель получает преимущество на проверки Интеллекта. Совиная мудрость. Цель получает преимущество на проверки Мудрости. Орлиное великолепие. Цель получает преимущество на проверки Харизмы.'],
                'higher_levels' => ['ru' => 'Если вы используете ячейку 3-го уровня или выше, вы можете сделать целью одно дополнительное существо за каждый уровень ячейки выше 2-го.'],
                'level' => 2,
                'school' => 'transmutation',
                'casting_time' => '1 действие',
                'range' => 'Касание',
                'duration' => 'Концентрация, до 1 часа',
                'concentration' => true,
                'ritual' => false,
                'components' => ['verbal' => true, 'somatic' => true, 'material' => true, 'material_description' => 'мех или перо зверя'],
                'classes' => ['artificer', 'bard', 'cleric', 'druid', 'ranger', 'sorcerer'],
            ],
        ];
    }
}
